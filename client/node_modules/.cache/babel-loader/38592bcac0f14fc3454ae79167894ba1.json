{"ast":null,"code":"import _objectSpread from \"/home/dci/Desktop/4-Desc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT_SUCCESS, REGISTER_SUCCESS, REGISTER_FAIL } from '../actions/types/constTypes';\nvar initState = {\n  token: '',\n  isAuthenticated: false,\n  user: null\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', action.payload.token);\n\n      if (action.payload.management) {\n        localStorage.setItem('user', action.payload.management.logName);\n      }\n\n      ;\n      return _objectSpread({}, state, {\n        token: action.payload.token,\n        user: action.payload.management ? {\n          logName: action.payload.management.logName\n        } : null,\n        isAuthenticated: true\n      });\n\n    case LOGIN_FAIL:\n    case LOGOUT_SUCCESS:\n    case REGISTER_FAIL:\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      return _objectSpread({}, state, {\n        token: '',\n        user: null,\n        isAuthenticated: false\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/dci/Desktop/4-Desc/client/src/reducers/authReducer.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","initState","token","isAuthenticated","user","state","action","type","localStorage","setItem","payload","management","logName","removeItem"],"mappings":";AAAA,SACIA,aADJ,EAEIC,UAFJ,EAGIC,cAHJ,EAIIC,gBAJJ,EAKIC,aALJ,QAKyB,6BALzB;AAOI,IAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE,EADO;AAEdC,EAAAA,eAAe,EAAE,KAFH;AAGdC,EAAAA,IAAI,EAAE;AAHQ,CAAlB;AAOA,gBAAe,YAA+B;AAAA,MAA9BC,KAA8B,uEAAtBJ,SAAsB;AAAA,MAAXK,MAAW;;AAE1C,UAAOA,MAAM,CAACC,IAAd;AAGA,SAAKX,aAAL;AACA,SAAKG,gBAAL;AACIS,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,MAAM,CAACI,OAAP,CAAeR,KAA7C;;AACA,UAAGI,MAAM,CAACI,OAAP,CAAeC,UAAlB,EAA8B;AAC9BH,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,MAAM,CAACI,OAAP,CAAeC,UAAf,CAA0BC,OAAvD;AACC;;AAAA;AACG,+BACOP,KADP;AAEIH,QAAAA,KAAK,EAACI,MAAM,CAACI,OAAP,CAAeR,KAFzB;AAGIE,QAAAA,IAAI,EAAGE,MAAM,CAACI,OAAP,CAAeC,UAAhB,GAA+B;AAAEC,UAAAA,OAAO,EAAEN,MAAM,CAACI,OAAP,CAAeC,UAAf,CAA0BC;AAArC,SAA/B,GAA+E,IAHzF;AAIIT,QAAAA,eAAe,EAAE;AAJrB;;AAQR,SAAKN,UAAL;AACA,SAAKC,cAAL;AACA,SAAKE,aAAL;AACIQ,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACAL,MAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACI,+BACOR,KADP;AAEIH,QAAAA,KAAK,EAAE,EAFX;AAGIE,QAAAA,IAAI,EAAE,IAHV;AAIID,QAAAA,eAAe,EAAE;AAJrB;;AAQR;AACI,aAAOE,KAAP;AA/BJ;AAiCH,CAnCD","sourcesContent":["import {  \n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL } from '../actions/types/constTypes';\n\n    const initState = {\n        token: '',       \n        isAuthenticated: false,        \n        user: null      \n        \n    }\n\n    export default (state = initState, action) => {\n\n        switch(action.type){               \n       \n\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS:            \n            localStorage.setItem('token', action.payload.token);\n            if(action.payload.management) {\n            localStorage.setItem('user', action.payload.management.logName) \n            };\n                return {\n                    ...state,\n                    token:action.payload.token, \n                    user: (action.payload.management) ?  { logName: action.payload.management.logName }: null,\n                    isAuthenticated: true              \n                    \n                };\n        \n        case LOGIN_FAIL:\n        case LOGOUT_SUCCESS:\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            localStorage.removeItem('user');            \n                return {\n                    ...state,\n                    token: '',                    \n                    user: null,\n                    isAuthenticated: false\n                }\n\n\n        default: \n            return state \n        }      \n    }\n"]},"metadata":{},"sourceType":"module"}